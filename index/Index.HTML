<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DULCERIA DE LECHE</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="navbar">
        <a href="#" class="logo">DULCERIA</a>
        <div class="nav-links">
            <ul>
                <li class="active"><a href="#">Home</a></li>
                <li><a href="/Carrito_De_Compra/Carrito_de_compra.HTML">Carrito</a></li>
                <li><a href="/Iniciar_Sesión/Sesión.HTML">Iniciar sesión</a></li>
                <li><a href="/Registro/Registro.HTML">Registrarse</a></li>
            </ul>
        </div>
        <img src="img/menu.png" alt="menu hamburger" class="menu-hamburger">
    </nav>
    <div class="info-container">
        <div class="info">
            <img src="img/dulce.jpg" alt="Descripción de la imagen">
            <p class="price">$4.500</p>
            <div class="button-container">
                <select class="quantity">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <!-- Agrega más opciones según sea necesario -->
                </select>
                <button class="add-to-cart">Añadir al carrito</button>
            </div>
        </div>
        <div class="info1">
            <img src="img/dulce.jpg" alt="Descripción de la imagen">
            <p class="price">$4.500</p>
            <div class="button-container">
                <select class="quantity">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <!-- Agrega más opciones según sea necesario -->
                </select>
                <button class="add-to-cart">Añadir al carrito</button>
            </div>
        </div>
        <div class="info2">
            <img src="img/dulce.jpg" alt="Descripción de la imagen">
            <p class="price">$4.500</p>
            <div class="button-container">
                <select class="quantity">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <!-- Agrega más opciones según sea necesario -->
                </select>
                <button class="add-to-cart">Añadir al carrito</button>
            </div>
        </div>
    </div>
</body>

<script th:inline="javascript">
    const menuHamburger = document.querySelector(".menu-hamburger");
    const navLinks = document.querySelector(".nav-links");

    menuHamburger.addEventListener("click", () => {
        navLinks.classList.toggle("mobile-menu");
        if (window.innerWidth <= 900) {
            document.querySelectorAll(".info, .info1, .info2").forEach(info => {
                info.classList.toggle("blur");
            });
        }
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const addToCartButtons = document.querySelectorAll(".add-to-cart");

        addToCartButtons.forEach(button => {
            button.addEventListener("click", () => {
                const quantitySelect = button.previousElementSibling;
                const quantity = quantitySelect.options[quantitySelect.selectedIndex].value;

                const productDiv = button.parentElement.parentElement;
                const productName = productDiv.querySelector("p").innerText;
                const productPrice = productDiv.querySelector(".price").innerText;

                const product = {
                    name: productName,
                    price: productPrice,
                    quantity: quantity
                };

                let cart = JSON.parse(localStorage.getItem("cart")) || [];
                cart.push(product);
                localStorage.setItem("cart", JSON.stringify(cart));

                // Recarga la página para reflejar los cambios en el carrito de compra
                location.reload();
            });
        });
    });
</script>

</html>